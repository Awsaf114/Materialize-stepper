/*
Materializecss Stepper - By Kinark 2016
https://github.com/Kinark/Materialize-stepper
CSS v1.02
*/
$.fn.activateFeedback=function(){form=this.closest("form"),active=this.find(".step.active"),form.valid()?(active.removeClass("wrong"),active.find(".step-content").prepend('<div class="wait-feedback"><div class="preloader-wrapper active"><div class="spinner-layer spinner-blue-only"><div class="circle-clipper left"><div class="circle"></div></div><div class="gap-patch"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div></div></div></div>')):active.addClass("wrong")},$.fn.destroyFeedback=function(){active=this.find(".step.active"),active.find(".step-content").find(".wait-feedback").remove()},$.fn.nextStep=function(){form=this.closest("form"),active=this.find(".step.active"),form.valid()?(active.find(".step-content").find(".wait-feedback").remove(),active.removeClass("active wrong").addClass("done").find(".step-content").stop().slideUp("normal"),active.next().addClass("active").find(".step-content").slideDown("normal")):active.removeClass("done").addClass("wrong")},$.fn.prevStep=function(){active=this.find(".step.active"),active.removeClass("active").find(".step-content").stop().slideUp("normal"),active.prev().removeClass("done").addClass("active").find(".step-content").slideDown("normal")},$.fn.openStep=function(a){a=this.find(".step:eq("+a+")"),a.hasClass("active")||(active=this.find(".step.active"),active.find(".step-content").find(".wait-feedback").remove(),active.removeClass("active").find(".step-content").stop().slideUp("normal"),a.addClass("active").find(".step-content").slideDown("normal"))},$.fn.activateStepper=function(){$(this).each(function(){var a=$(this);method=a.data("method"),action=a.data("action"),method=method?method:"GET",action=action?action:"?",a.wrap('<form action="'+action+'" method="'+method+'"></div>'),a.find("li.step.active .step-content").slideDown("normal"),a.find("li.step .step-title").each(function(a){var b=a+1;$(this).prepend('<div class="number">'+b+"</div>")}),a.on("click",".step:not(.active)",function(){a.hasClass("linear")||(object=$(".step").index($(this)),a.openStep(object))}).on("click",".next-step",function(b){return b.preventDefault(),$(this).data("feedback")?(a.activateFeedback(),window[$(this).data("feedback")].call()):void a.nextStep()}).on("click",".previous-step",function(b){b.preventDefault(),a.prevStep()})})};
